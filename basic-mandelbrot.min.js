(function(){if(typeof window.Math!=="undefined"){window.Math.map=function(f,c,b,e,d){return(f-c)/(Math.abs(b-c))*Math.abs(d-e)+e}}if(typeof window.ImageData!=="undefined"){ImageData.prototype.setPixel=function a(g,b,f){var e=this.data;var d=4*(b+f*this.width);e[d]=g[0];e[d+1]=g[1];e[d+2]=g[2];e[d+3]=g[3]}}})();(function(){var b=500,d=400,c=-2,g=1,a=-1,e=1;$(function(){var k=$("#cvsMandelbrot");$(k).css("width",b).css("height",d);var s=k[0].getContext("2d"),j=new Date().getTime(),o,m,q,p,n,l,i;r(c,g,a,e,s,function(t){if(t.status==="success"){o=new Date().getTime();m=o-j;$("#lblStatus").text("Done");$("#lblSetInfo").text("Showing ["+c+" - "+g+"] x ["+a+" x "+e+"] Completed in: "+m+" ms")}});function r(y,B,u,A,w,v){i=w.getImageData(0,0,k.width(),k.height());var t=0,z=function(){if(t<b){for(p=0;p<d;p++){n=Math.map(t,0,b,y,B);l=Math.map(p,0,d,u,A);if(f(n,l)){h(t,p,i)}}t++;setTimeout(z,0)}else{if(typeof v!=="undefined"){w.putImageData(i,0,0);v({status:"success",message:""})}}};setTimeout(z,0)}});function h(i,k,j){j.setPixel([0,0,0,255],i,k)}function f(p,n){var k=0,j=0,o=100,m,l,q;for(m=0;m<o;m++){if(Math.pow(k,2)+Math.pow(j,2)>4){return false}l=Math.pow(k,2)-Math.pow(j,2)+p;q=2*k*j+n;k=l;j=q}return true}})();